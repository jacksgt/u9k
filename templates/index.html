<!DOCTYPE html>
<html lang="en">
  <head>
    {{template "_head.html"}}
    <script defer src="/static/js/main.js"></script>
    <script defer src="/static/js/qrcode.min.js"></script> <!-- TODO: dynamically load this library when user focuses on link input form -->
  </head>
  <body>

    {{ template "_header.html" }}

    <div class="content-wrapper">

      <div id="link-wrapper" class="pure-u-1 content">
        <h2 class="is-center">Shorten a Link</h2>

        <form class="pure-form" id="link-form">
          <fieldset>
            <legend name="legend">Paste your URL and hit Enter!</legend>
            <div class="input-form-part">
              <input type="url" name="url" class="pure-input-1" placeholder="https://..." required="true"/>
              <br>
              Optionally, choose a custom short link:
              <label for="link" style="display: flex;">
                <span style="margin: auto;">https://u9k.de/</span>
                <input style="flex-grow: 1;" type="text" name="link" placeholder="e.g. awesome-food" title="Only letters of the alphabet (a-z, A-Z), digits (0-9) as well as '-' and '_'; at least 6 characters" pattern="[a-zA-Z0-9-_]{6,}">
              </label>
              <div class="is-center">
                <input type="submit" name="submit" class="pure-button pure-button-primary" value="Shorten">
              </div>
            </div>

            <div class="output-form-part">
              <div data-tip="Copied to Clipboard!">
                <input type="url" name="outputUrl" class="pure-input-1 output-url" >
              </div>
              <div class="form-qr-code">
              </div>
            </div>

          </fieldset>
        </form>

        <div id="link-list-wrapper" class="">

          These are your most recent links (<a id="button-clear-link-list">clear</a>):
          <span title="This list of links is stored inside your browser only (localStorage), not on our servers. You can delete the link list by clicking 'clear'. This does not delete links from our servers.">
            <a>
              <svg style="display: inline; height: 1.5em; width: 1.5em; float: right;">
                <use href="#symbol_question-mark-circle"></use>
              </svg>
            </a>
          </span>

          <table id="link-list-table" class="pure-table pure-table-striped">
            <thead>
              <tr>
                <th>Link</th>
                <th>URL</th>
                <th>Creation Date</th>
              </tr>
            </thead>
            <tbody>
              <!-- <tr> -->
                <!--   <td>Shortlink</td> -->
                <!--   <td>URL</td> -->
                <!--   <td>Create Date</td> -->
                <!-- </tr> -->
            </tbody>
          </table>
        </div>
      </div>

      <div id="file-wrapper" class="pure-u-1 content">
        <h2 class="is-center">Upload a file</h2>

        <form class="pure-form" id="file-form">
          <fieldset>
            <legend name="legend">Click the button to select your file or just drag&drop it there!</legend>

            <div class="input-form-part">
              <input id="fake-file-input" type="file" name="file" style="display: none;"/>
              <div class="is-center">
                <div id="file-preview-wrapper" style="cursor: pointer; word-wrap: anywhere;">
                  <svg>
                    <use href="#symbol_file-upload"></use>
                  </svg>
                  <div id="file-preview-details" style="font-family: monospace;">&nbsp;</div>
                </div>
                <label for="expire" style="display: flex;">
                  <span style="margin: auto; padding: 5px;">Expire in:</span>
                  <select name="expire" style="flex-grow: 1;">
                    <option value="24h">1 Day</option>
                    <option value="168h" selected>1 Week</option> <!-- 24*7 h --> <!-- default -->
                    <option value="744h">1 Month</option> <!-- 24*31 h -->
                  </select>
                </label>
                <input type="submit" name="submit" class="pure-button pure-button-primary" value="Upload">
              </div>
            </div>

            <div class="output-form-part">
              <div data-tip="Copied to Clipboard!">
                <input type="url" name="outputUrl" class="pure-input-1 output-url" >
              </div>
              <div class="form-qr-code">
              </div>
            </div>
          </fieldset>
        </form>

      </div>

    </div>

    {{ template "_footer.html" . }}

    {{ template "_icons.html" }}
  </body>
</html>
