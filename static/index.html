<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta name="description" content="Create a short, typeable link from a long URL">
    <title>U9K - Link Shortener</title>
    <link rel="apple-touch-icon" sizes="180x180" href="/static/icons/favicon-180x180.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/static/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/static/icons/favicon-16x16.png">
    <link rel="mask-icon" href="/static/icons/favicon.svg" color="#5bbad5">
    <link rel="shortcut icon" href="/static/icons/favicon.ico">
    <link rel="stylesheet" href="/static/css/pure-min.css">
    <link rel="stylesheet" href="/static/css/grids-responsive-min.css">
    <link rel="stylesheet" href="/static/css/styles.css">
    <script defer src="/static/js/main.js"></script>
    <script defer src="/static/js/qrcode.min.js"></script> <!-- TODO: dynamically load this library when user focuses on link input form -->
  </head>
  <body>

    <div class="header">
      <div class="home-menu pure-menu pure-menu-horizontal pure-menu-fixed">
        <a href="/" title="U9K Homepage"><img src="/static/icons/favicon-180x180.png" alt="U9K Logo" style="height: 3em; vertical-align: middle;"></a>

        <ul class="pure-menu-list">
          <!-- <li class="pure-menu-item pure-menu-selected"><a href="#" class="pure-menu-link">Home</a></li> -->
          <!-- <li class="pure-menu-item"><a href="#" class="pure-menu-link">Tour</a></li> -->
          <!-- <li class="pure-menu-item"><a href="#" class="pure-menu-link">Sign Up</a></li> -->
        </ul>
      </div>
    </div>

    <!-- create some space from the header -->
    <div style="height: 50px;"></div>

    <div class="content-wrapper">

      <div id="link-wrapper" class="pure-u-1 content">
        <h2 class="is-center">Shorten a Link</h2>

        <form class="pure-form" id="link-form">
          <fieldset>
            <legend name="legend">Paste your URL and hit Enter!</legend>
            <div class="input-form-part">
              <input type="url" name="url" class="pure-input-1" placeholder="https://..." required="true"/>
              <br>
              Optionally, choose a custom short link:
              <label for="link" style="display: flex;">
                <span style="margin: auto;">https://u9k.de/</span>
                <input style="flex-grow: 1;" type="text" name="link" placeholder="e.g. awesome-food" title="Only letters of the alphabet (a-z, A-Z), digits (0-9) as well as '-' and '_'; at least 6 characters" pattern="[a-zA-Z0-9-_]{6,}">
              </label>
              <div class="is-center">
                <input type="submit" name="submit" class="pure-button pure-button-primary" value="Shorten">
              </div>
            </div>

            <div class="output-form-part">
              <div data-tip="Copied to Clipboard!">
                <input type="url" name="outputUrl" class="pure-input-1 output-url" >
              </div>
              <div class="form-qr-code">
              </div>
            </div>

         </fieldset>
        </form>

        <div id="link-list-wrapper" class="">

          These are your most recent links (<a id="button-clear-link-list">clear</a>):
          <span title="This list of links is stored inside your browser only (localStorage), not on our servers. You can delete the link list by clicking 'clear'. This does not delete links from our servers.">
            <a>
              <svg style="display: inline; height: 1.5em; width: 1.5em; float: right;">
                <use href="#question-mark-circle"></use>
              </svg>
            </a>
          </span>

          <table id="link-list-table" class="pure-table pure-table-striped">
            <thead>
              <tr>
                <th>Link</th>
                <th>URL</th>
                <th>Creation Date</th>
              </tr>
            </thead>
            <tbody>
              <!-- <tr> -->
                <!--   <td>Shortlink</td> -->
                <!--   <td>URL</td> -->
                <!--   <td>Create Date</td> -->
                <!-- </tr> -->
            </tbody>
          </table>
        </div>
      </div>

      <div id="file-wrapper" class="pure-u-1 content">
        <h2 class="is-center">Upload a file</h2>

        <form class="pure-form" id="file-form">
          <fieldset>
            <legend name="legend">Click the button to select your file or just drag&drop it there!</legend>

            <div class="input-form-part">
              <input id="fake-file-input" type="file" name="file" style="display: none;"/>
              <div class="is-center">
                <div id="file-preview-wrapper" style="cursor: pointer; word-wrap: anywhere;">
                  <svg>
                    <use href="#symbol-file-upload"></use>
                  </svg>
                  <div id="file-preview-details" style="font-family: monospace;">&nbsp;</div>
                </div>
              <label for="expire" style="display: flex;">
                <span style="margin: auto; padding: 5px;">Expire in:</span>
                <select name="expire" style="flex-grow: 1;">
                    <option value="24h">1 Day</option>
                    <option value="168h" selected>1 Week</option> <!-- 24*7 h --> <!-- default -->
                    <option value="5208h">1 Month</option> <!-- 24*7*31 h -->
                </select>
              </label>
                <input type="submit" name="submit" class="pure-button pure-button-primary" value="Upload">
              </div>
            </div>

            <div class="output-form-part">
              <div data-tip="Copied to Clipboard!">
                <input type="url" name="outputUrl" class="pure-input-1 output-url" >
              </div>
              <div class="form-qr-code">
              </div>
            </div>
          </fieldset>
        </form>

      </div>

    </div>

    <script>

    </script>

    <div style="height: 50px;"><!-- make some space for the footer, so it doesnt overlap --></div>

    <div class="footer l-box is-center">
      u9k.de (<a href="https://git.cubieserver.de/jh/u9k">Source Code</a>) - developed and hosted by <a href="https://blog.cubieserver.de/">Jack Henschel</a>.
    </div>

    <!-- SVG Icon definitions -->
    <svg width="0" height="0" class="hidden">
      <symbol id="question-mark-circle" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
      </symbol>
    </svg>
    <svg width="0" height="0" class="hidden">
      <symbol id="symbol-file-upload" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"></path></symbol>
    </svg>
  </body>

</html>
